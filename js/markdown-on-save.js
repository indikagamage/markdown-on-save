(function(){!function($){var t;return t=window.markdownOnSaveApp={on:function(){var t,n,o,s,i;for($("body").addClass("cws-markdown"),this.html.click(),this.checkbox.attr("checked",!0),this.buttonOn.show(),s=[this.buttonOff,this.html,this.visual,this.htmlButtons],i=[],n=0,o=s.length;o>n;n++)t=s[n],i.push(t.hide());return i},off:function(){var t,n,o,s,i;for($("body").removeClass("cws-markdown"),this.checkbox.attr("checked",!1),this.buttonOn.hide(),s=[this.buttonOff,this.html,this.visual,this.htmlButtons],i=[],n=0,o=s.length;o>n;n++)t=s[n],i.push(t.show());return i},delay:function(t,n){return setTimeout(n,t)},start:function(){var t,n;return n=$("#cws-markdown"),n.detach().insertBefore("#submitdiv h2 span, #submitdiv h3 span").show(),this.buttonOn=$("img.markdown-on",n),this.buttonOff=$("img.markdown-off",n),this.checkbox=$("#cws_using_markdown"),this.html=$("#content-html"),this.visual=$("#content-tmce"),this.htmlButtonsString=function(){var n,o,s,i;for(s=["strong","em","link","block","del","ins","img","ul","ol","li","code","close"],i=[],n=0,o=s.length;o>n;n++)t=s[n],i.push("#qt_content_"+t);return i}().join(", "),this.htmlButtons=$(this.htmlButtonsString),this.events(),this.setFromCheckbox()},setFromCheckbox:function(){return t.checkbox.is(":checked")?t.on():t.off()},events:function(){return $([this.buttonOn,this.buttonOff]).each(function(){return $(this).click(function(n){return n.stopPropagation(),t.checkbox.click()})}),this.checkbox.change(this.setFromCheckbox)}},$(function(){return t.delay(0,function(){return t.start()})})}(jQuery)}).call(this);